@tailwind base;
@tailwind components;
@tailwind utilities;

/* Стили для сообщений об ошибках в формах */
.form-error {
  font-size: 12px !important;
  color: #dc2626 !important; /* red-600 */
  margin-top: 4px !important;
  display: block !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
}

.form-error-icon {
  display: inline-block !important;
  margin-right: 4px !important;
  font-size: 10px !important;
}

/* Стили для полей с ошибками */
.input-error {
  border-color: #dc2626 !important;
  box-shadow: 0 0 0 1px #dc2626 !important;
}

.input-error:focus {
  border-color: #dc2626 !important;
  box-shadow: 0 0 0 1px #dc2626 !important;
}

/* Стили для сообщений об ошибках интеграции */
.integration-error {
  font-size: 12px !important;
  color: #dc2626 !important;
  text-align: center !important;
  margin-top: 8px !important;
  padding: 8px 12px !important;
  background-color: #fef2f2 !important;
  border: 1px solid #fecaca !important;
  border-radius: 6px !important;
  line-height: 1.3 !important;
  font-weight: 400 !important;
}

/* Стили для предупреждений */
.form-warning {
  font-size: 12px !important;
  color: #d97706 !important; /* amber-600 */
  margin-top: 4px !important;
  display: block !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
}

/* Стили для успешных сообщений */
.form-success {
  font-size: 12px !important;
  color: #059669 !important; /* emerald-600 */
  margin-top: 4px !important;
  display: block !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
}

/* Стили для всех сообщений об ошибках на странице (включая внешние API) */
.error-message,
.error,
.field-error,
.validation-error,
.fxc-error,
.ll-error,
[class*="error"]:not(input),
[class*="Error"]:not(input) {
  font-size: 12px !important;
  color: #dc2626 !important;
  margin-top: 4px !important;
  display: block !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
}


/* Стили для сообщений об ошибках в контейнерах */
.inputcontainer .error-message,
.inputcontainer .error,
.inputcontainer .field-error,
.inputcontainer .validation-error,
.inputcontainer [class*="error"]:not(input),
.inputcontainer [class*="Error"]:not(input) {
  font-size: 12px !important;
  color: #dc2626 !important;
  margin-top: 4px !important;
  display: block !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
}

/* Стили для сообщений об ошибках после полей ввода */
input + .error-message,
input + .error,
input + .field-error,
input + .validation-error,
input + [class*="error"]:not(input),
input + [class*="Error"]:not(input) {
  font-size: 12px !important;
  color: #dc2626 !important;
  margin-top: 4px !important;
  display: block !important;
  line-height: 1.2 !important;
  font-weight: 400 !important;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes progress {
  from {
    stroke-dashoffset: 553;
  }
  to {
    stroke-dashoffset: 205;
  }
}

@keyframes loading {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.animate-fadeIn {
  animation: fadeIn 0.5s ease-out;
}

/* Custom slider styles */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  height: 8px;
  background: #F3F4F6;
  border-radius: 4px;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 24px;
  height: 24px;
  background: #4F46E5;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(79, 70, 229, 0.3);
  transition: all 0.2s ease;
}

input[type="range"]::-webkit-slider-thumb:hover {
  background: #4338CA;
  box-shadow: 0 3px 8px rgba(79, 70, 229, 0.4);
  transform: scale(1.1);
}

input[type="range"]::-moz-range-thumb {
  width: 24px;
  height: 24px;
  background: #4F46E5;
  border-radius: 50%;
  cursor: pointer;
  border: none;
  box-shadow: 0 2px 6px rgba(79, 70, 229, 0.3);
  transition: all 0.2s ease;
}

input[type="range"]::-moz-range-thumb:hover {
  background: #4338CA;
  box-shadow: 0 3px 8px rgba(79, 70, 229, 0.4);
  transform: scale(1.1);
}

/* Custom focus styles */
input:focus, button:focus {
  outline: none;
  ring: 2px solid #4F46E5;
}

/* Improve button tap target on mobile */
button {
  touch-action: manipulation;
}

/* Base layout styles */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

#root {
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

/* Ensure content fills available space */
.min-h-screen {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Prevent content overflow */
.overflow-auto {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}

/* Responsive spacing */
@media (min-width: 640px) {
  .sm\:p-6 {
    padding: 1.5rem;
  }
}

/* Smooth scrolling */
* {
  scroll-behavior: smooth;
}

/* Base text sizes */
.text-base {
  font-size: 1.125rem;
  line-height: 1.75rem;
}

.text-lg {
  font-size: 1.25rem;
  line-height: 1.75rem;
}

.text-xl {
  font-size: 1.5rem;
  line-height: 2rem;
}

@media (min-width: 768px) {
  .md\:text-lg {
    font-size: 1.25rem;
    line-height: 1.75rem;
  }

  .md\:text-xl {
    font-size: 1.5rem;
    line-height: 2rem;
  }

  .md\:text-2xl {
    font-size: 1.875rem;
    line-height: 2.25rem;
  }
}

/* Image optimization styles */
img {
  max-width: 100%;
  height: auto;
}

/* Preload critical images */
/* Removed global CSS preloads; we use JS preloader with BASE_URL-aware paths */

/* Optimize image loading performance */
.optimized-image {
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Loading state for form submission */
body.loading {
  cursor: wait;
}

body.loading * {
  pointer-events: auto;
}

/* Loading spinner for images */
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.image-loading {
  animation: spin 1s linear infinite;
}

/* Enhanced progress bar styles */
.border-3 {
  border-width: 3px;
}

/* Progress bar shimmer effect */
.progress-shimmer {
  position: relative;
  overflow: hidden;
}

.progress-shimmer::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: shimmer 2s infinite;
}